<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Giving a shot at making a game using Godot Engine 3.0 | Evert&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Hello!In the past week, I’ve been working on a simple 3D game using Godot Engine 3.0 (go-doh). In this article, I will show off some of the features and discuss how it all works. Here’s a quick demo o">
<meta name="keywords" content="game,projects,godot">
<meta property="og:type" content="article">
<meta property="og:title" content="Giving a shot at making a game using Godot Engine 3.0">
<meta property="og:url" content="https://lunasqu.ee/blog/2018/02/03/Giving-a-shot-at-making-a-game-using-Godot-Engine-3-0/index.html">
<meta property="og:site_name" content="Evert&#39;s Blog">
<meta property="og:description" content="Hello!In the past week, I’ve been working on a simple 3D game using Godot Engine 3.0 (go-doh). In this article, I will show off some of the features and discuss how it all works. Here’s a quick demo o">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://i.lunasqu.ee/blog/root_scene.png">
<meta property="og:image" content="https://i.lunasqu.ee/blog/instances.png">
<meta property="og:image" content="https://i.lunasqu.ee/blog/player_scene.png">
<meta property="og:image" content="https://i.lunasqu.ee/blog/gui.png">
<meta property="og:image" content="https://i.lunasqu.ee/blog/shop.png">
<meta property="og:image" content="https://i.lunasqu.ee/blog/crack.png">
<meta property="og:updated_time" content="2018-02-03T12:13:59.676Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Giving a shot at making a game using Godot Engine 3.0">
<meta name="twitter:description" content="Hello!In the past week, I’ve been working on a simple 3D game using Godot Engine 3.0 (go-doh). In this article, I will show off some of the features and discuss how it all works. Here’s a quick demo o">
<meta name="twitter:image" content="https://i.lunasqu.ee/blog/root_scene.png">
  
    <link rel="alternate" href="/blog/atom.xml" title="Evert&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/blog/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/blog/" id="logo">Evert&#39;s Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/blog/" id="subtitle">Projects and Tutorials</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/blog/">Home</a>
        
          <a class="main-nav-link" href="/blog/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/blog/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://lunasqu.ee/blog"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Giving-a-shot-at-making-a-game-using-Godot-Engine-3-0" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2018/02/03/Giving-a-shot-at-making-a-game-using-Godot-Engine-3-0/" class="article-date">
  <time datetime="2018-02-03T10:43:10.000Z" itemprop="datePublished">2018-02-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Giving a shot at making a game using Godot Engine 3.0
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Hello!<br>In the past week, I’ve been working on a simple 3D game using <a href="https://godotengine.org/" target="_blank" rel="noopener">Godot Engine 3.0</a> (<em>go-doh</em>). In this article, I will show off some of the features and discuss how it all works. Here’s a quick demo of the gameplay:</p>
<p><video width="640" height="420" controls><br>  <source src="https://i.lunasqu.ee/blog/godot_project-2018-02-02_12.32.45.webm" type="video/webm"><br></video></p>
<h1 id="Mechanics"><a href="#Mechanics" class="headerlink" title="Mechanics"></a>Mechanics</h1><h2 id="Block-breaking"><a href="#Block-breaking" class="headerlink" title="Block breaking"></a>Block breaking</h2><p>Blocks can be broken by just clicking on a tile of the chunk. The speed of the breaking and the damage dealt to the tile depend on the current pickaxe. Pickaxes can be upgraded in the Shop GUI. Pickaxes also have a durability value, which will always be kept at maximum when you’re on the surface. The current pickaxe along with it’s durability is displayed in the bottom right corner of the screen. When your pickaxe “breaks”, you will stop mining and you won’t be able to start mining until you repair it or return to the surface.</p>
<h2 id="Bombing"><a href="#Bombing" class="headerlink" title="Bombing"></a>Bombing</h2><p>Blocks can also be broken using bombs. By placing a bomb, it takes approximately 3 seconds to detonate and it <strong>damages</strong> blocks in a 4 tile radius. Tougher blocks located deeper in the mine wont be broken by a bomb, instead made softer and thus they will take less time to mine with a pickaxe. When a bomb blows up tiles, you won’t get them in your inventory.</p>
<h2 id="Shop"><a href="#Shop" class="headerlink" title="Shop"></a>Shop</h2><p>In the shop GUI, you can sell your mined blocks for money or buy items like torches, bombs and better pickaxes. Money can only be earned by selling the blocks you’ve mined.</p>
<h2 id="Minerals"><a href="#Minerals" class="headerlink" title="Minerals"></a>Minerals</h2><p>This is the list of minerals currently generated in the chunk and their yield when sold:</p>
<ul>
<li>Copper - $15</li>
<li>Iron - $20</li>
<li>Silver - $50</li>
<li>Gold - $100</li>
<li>Amethyst - $250</li>
<li>Emerald - $300</li>
<li>Sapphire - $400</li>
<li>Ruby - $500</li>
<li>Diamond  - $1000</li>
<li>Flawless Diamond - $2500 (rarest)</li>
</ul>
<p>Note that all of these are not guaranteed to generate. It depends on the random seed and the y value.</p>
<h1 id="Scenes"><a href="#Scenes" class="headerlink" title="Scenes"></a>Scenes</h1><p>Godot uses Scenes, which can be easily instanced. The following image is the Godot editor, in it I have opened the root scene, which will be the point where the game runs.<br><img src="https://i.lunasqu.ee/blog/root_scene.png" alt="Root Scene"><br>On the right, you can see the scene tree.<br><img src="https://i.lunasqu.ee/blog/instances.png" alt="Instances"></p>
<ul>
<li><a href="http://docs.godotengine.org/en/3.0/classes/class_spatial.html" target="_blank" rel="noopener"><strong>Root</strong></a> - This is the first node in the scene, containing everything.</li>
<li><a href="http://docs.godotengine.org/en/3.0/classes/class_worldenvironment.html" target="_blank" rel="noopener"><strong>WorldEnvironment</strong></a> - Controls the overall look of the scene. I have configured it to give me a completely black scene without a background.</li>
<li>All of my other custom scenes follow these.</li>
</ul>
<h2 id="The-Chunk"><a href="#The-Chunk" class="headerlink" title="The Chunk"></a>The Chunk</h2><p><video width="640" height="420" controls><br>  <source src="https://i.lunasqu.ee/blog/godot_project-2018-02-03_14.12.37.webm" type="video/webm"><br></video><br>The Chunk is a <a href="http://docs.godotengine.org/en/3.0/classes/class_meshinstance.html" target="_blank" rel="noopener">MeshInstance</a> which I use to generate a random mine with. I’ve attached a script to this node which generates a mesh and assigns it to the MeshInstance.<br>Using <a href="http://docs.godotengine.org/en/3.0/classes/class_surfacetool.html" target="_blank" rel="noopener">SurfaceTool</a>, you can create geometry by specifying the vertices individually.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># Create a new SurfaceTool instance</span><br><span class="line">var st = SurfaceTool.new()</span><br><span class="line"></span><br><span class="line"># Begin specifying your vertices using primitive type of triangles. Every 3 vertices is a triangle.</span><br><span class="line">st.begin(Mesh.PRIMITIVE_TRIANGLES)</span><br><span class="line"></span><br><span class="line"># Half of a quad</span><br><span class="line">st.add_uv(Vector2(1,1))</span><br><span class="line">st.add_vertex(Vector3(0,0,1))</span><br><span class="line"></span><br><span class="line">st.add_uv(Vector2(1,0))</span><br><span class="line">st.add_vertex(Vector3(0,1,1))</span><br><span class="line"></span><br><span class="line">st.add_uv(Vector2(0,1))</span><br><span class="line">st.add_vertex(Vector3(1,0,1))</span><br><span class="line"></span><br><span class="line"># Output the mesh</span><br><span class="line">var mesh = st.commit()</span><br></pre></td></tr></table></figure></p>
<p>This is just a basic example of what you can do with SurfaceTool, but as you can see, it’s a great way to create procedural geometry. Alongside this I use some code to decide which material to use for which tile and the ability to regenerate the mesh when a tile is changed.</p>
<h2 id="The-Player"><a href="#The-Player" class="headerlink" title="The Player"></a>The Player</h2><p>The player is currently just a simple CapsuleMesh with a camera, a light, some raycasts and some sounds attached to it.</p>
<p><img src="https://i.lunasqu.ee/blog/player_scene.png" alt="Player Scene"><br>The script attached to it deals with <a href="http://docs.godotengine.org/en/3.0/classes/class_kinematicbody.html" target="_blank" rel="noopener">KinematicBody</a> movement and the block break animation. The RayCasts are used to determine whether the player is colliding with the chunk or not. The RayCast pointing up is used to cancel the jump when player hits a tile from below.</p>
<h2 id="The-GUI"><a href="#The-GUI" class="headerlink" title="The GUI"></a>The GUI</h2><p><img src="https://i.lunasqu.ee/blog/gui.png" alt="GUI Scene"><br>GUI in Godot is created using the <a href="http://docs.godotengine.org/en/3.0/classes/class_control.html" target="_blank" rel="noopener">Control</a> class and it’s inherited classes.<br>In the GUI scene I have a simple <a href="http://docs.godotengine.org/en/3.0/classes/class_itemlist.html" target="_blank" rel="noopener">ItemList</a> inventory and a few other items. The main thing the GUI does is the shop: buy and sell system.</p>
<p><img src="https://i.lunasqu.ee/blog/shop.png" alt="The Shop Dialog"></p>
<p>On the righthand side, there are two image buttons that spawn an instance of another scene and translate it to the player’s current position. These two buttons are Bomb and Torch, which “place” their respective item.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># Load the scene</span><br><span class="line">var scene = load(&quot;res://scene/props/bomb.tscn&quot;)</span><br><span class="line"></span><br><span class="line"># Get the root instance of the scene, in this case it&apos;s a Spatial</span><br><span class="line">var node = scene.instance()</span><br><span class="line"></span><br><span class="line"># Translate the Spatial</span><br><span class="line">node.set_translation(Vector3(x, y, z))</span><br><span class="line"></span><br><span class="line"># Add it to the Root scene</span><br><span class="line">get_node(&quot;../&quot;).add_child(node)</span><br></pre></td></tr></table></figure></p>
<h2 id="SideSupport"><a href="#SideSupport" class="headerlink" title="SideSupport"></a>SideSupport</h2><p>This scene generates 4 quads that cover the chunk. These prevent the player from walking off of the chunk or falling out the bottom.</p>
<h2 id="CrackBox"><a href="#CrackBox" class="headerlink" title="CrackBox"></a>CrackBox</h2><p>This scene generates a quad that has a variable texture. This scene is used to display the breaking animation of a tile, by translating it to the currently “broken” tile and setting the Texture of the material to one of the 6 crack textures.<br><img src="https://i.lunasqu.ee/blog/crack.png" alt="The 6 textures used to represent the tile breaking"></p>
<h1 id="The-Source"><a href="#The-Source" class="headerlink" title="The Source"></a>The Source</h1><p>The source of this project is available <a href="https://github.com/LunaSquee/xyminer" target="_blank" rel="noopener">on my GitHub account</a>. I’ve laid out the scenes, scripts, etc. into a nice folder structure so you can easily see where the things are located. I recommend you do the same when you’re making a game in Godot. If you want to try the game yourself, you can clone or download the repository onto your computer and <strong>Import</strong> it in the project list of the editor. Downloads are not currently available as the game is still in development, but you can easily export them in the editor.</p>
<h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>I think that Godot is a really great game engine. It lets you do amazing things quite easily. The community is also very helpful and the <a href="http://docs.godotengine.org/en/3.0/" target="_blank" rel="noopener">documentation</a> is good enough for you to get started. This game still needs work for it to be enjoyable, but it’s been quite fun getting this far and I thought I’d share it with you.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://lunasqu.ee/blog/2018/02/03/Giving-a-shot-at-making-a-game-using-Godot-Engine-3-0/" data-id="cjd78ivfk0000c2x10s4qdtec" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/game/">game</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/godot/">godot</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/projects/">projects</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/blog/2018/01/26/welcome-to-my-blog/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Welcome to my blog!</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/game/">game</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/godot/">godot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/projects/">projects</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/update/">update</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/blog/tags/game/" style="font-size: 10px;">game</a> <a href="/blog/tags/godot/" style="font-size: 10px;">godot</a> <a href="/blog/tags/projects/" style="font-size: 20px;">projects</a> <a href="/blog/tags/update/" style="font-size: 10px;">update</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/01/">January 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/blog/2018/02/03/Giving-a-shot-at-making-a-game-using-Godot-Engine-3-0/">Giving a shot at making a game using Godot Engine 3.0</a>
          </li>
        
          <li>
            <a href="/blog/2018/01/26/welcome-to-my-blog/">Welcome to my blog!</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 Evert<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/blog/" class="mobile-nav-link">Home</a>
  
    <a href="/blog/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css">
  <script src="/blog/fancybox/jquery.fancybox.pack.js"></script>


<script src="/blog/js/script.js"></script>



  </div>
</body>
</html>